---
layout: main
title: Defining a recipe
category: how_tos
---

<script type="text/javascript" src="../javascripts/defining_recipe_example.js"></script>

<p>
With great plugins comes great responsabilities. In some cases we have a lot of tracks in a page and some of them may have different plugins (or lots of them) and configurations, to enhance the creation in these cases we created SilverTrackRecipes. It is a way to define a track recipe, with all its particularities, and refer to that recipe later, using a much simplified interface. To allow these creations we will use the method <em>$.silverTrackRecipes</em> to define the recipes and <em>$.silverTrackRecipes.create</em> to refer to one recipe and create the track.
</p>

<p>
<em>$.silverTrackRecipes</em> will receive a string (the name of your recipe) and a function. This function will receive a factory object that will be responsible to assemble your track in a moment of need. The factory object has two methods, <em>createTrack</em> and <em>installPlugins</em>, you could use just one or both of them. The method <em>createTrack</em> should only be used when you want to customize the track initialization, the method will receive the element (track container) and an options object with your own options. It must return the new track. <em>installPlugins</em> will receive the already initialized track and the same options of createTrack, you should install the plugins you want here.
</p>

<p>
We will create a recipe with the basic track we learn at <a href="http://tulios.github.io/jquery.silver_track/">getting started</a>, let's call it, humm..., basic.

{% highlight js %}
$.silverTrackRecipes("basic", function(factory) {
  factory.createTrack(function(element, options) {
    // Let's tweak a little bit this track
    return element.silverTrack({
      easing: options.easing || "easeInOutQuad",
      duration: options.duration || 600
    });
  });

  factory.installPlugins(function(track, options) {
    var parent = track.container.parents(".track");
    track.install(new SilverTrack.Plugins.Navigator({
      prev: $("a.prev", parent),
      next: $("a.next", parent)
    }));
  });
});
{% endhighlight %}

<p>
With all recipes defined, in our case just "basic", we can create a new instance of SilverTrack using one of these recipes. Look that in our recipe we have a default easing function and duration but is possible to set another values, let's create three tracks, each one with a different pair of values. For a more generic solution let's keep the recipe name and options in data attributes, like:
</p>

{% highlight html %}
<div class="track">
  <div class="view-port">
    <div class="slider-container" data-recipe="basic" data-opts='{"easing": "easeInOutSine", "duration": 800}'>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/1/"></div>
      <!-- items ... -->
    </div>
  </div>
</div>
{% endhighlight %}

<p>
the "boot" code:
</p>

{% highlight js %}
$(".track").each(function() {
  var container = $(this).find(".slider-container");
  var recipe = container.data("recipe");
  var opts = container.data("opts");
  $.silverTrackRecipes.create(recipe, container, opts).start();
});
{% endhighlight %}

<p>
and the magic happens!
</p>

<div class="track">
  <div class="view-port">
    <div class="slider-container" data-recipe="basic" data-opts='{"easing": "easeInOutSine", "duration": 800}'>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/1/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/2/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/3/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/4/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/5/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/6/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/7/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/8/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/9/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/nature/10/"></div>
    </div>
  </div>

  <div class="pagination">
    <a href="#" class="prev disabled"></a>
    <a href="#" class="next disabled"></a>
  </div>
</div>

<div class="track">
  <div class="view-port">
    <div class="slider-container" data-recipe="basic" data-opts='{"easing": "easeInOutCubic", "duration": 700}'>
      <div class="item"><img src="http://lorempixel.com/230/134/city/1/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/2/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/3/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/4/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/5/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/6/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/7/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/8/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/9/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/city/10/"></div>
    </div>
  </div>

  <div class="pagination">
    <a href="#" class="prev disabled"></a>
    <a href="#" class="next disabled"></a>
  </div>
</div>

<div class="track">
  <div class="view-port">
    <div class="slider-container" data-recipe="basic" data-opts='{"easing": "easeInOutQuart", "duration": 400}'>
      <div class="item"><img src="http://lorempixel.com/230/134/people/1/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/2/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/3/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/4/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/5/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/6/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/7/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/8/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/9/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/people/10/"></div>
    </div>
  </div>

  <div class="pagination">
    <a href="#" class="prev disabled"></a>
    <a href="#" class="next disabled"></a>
  </div>
</div>

<h4>
Chaining Recipes
</h4>

<p>
It is very common to have more complex recipes that are just variations of the basic one. To exemplify this case we will create a "complex" recipe that installs the <strong>BulletNavigator plugin</strong>, take a look at the code bellow.
</p>

{% highlight js %}
$.silverTrackRecipes("complex", function(factory) {
  factory.createTrack(function(element, options) {
    return $.silverTrackRecipes.create("basic", element, options);
  });

  factory.installPlugins(function(track, options) {
    track.install(new SilverTrack.Plugins.BulletNavigator({
      container: $(".bullet-pagination", track.container.parents(".track"))
    }));
  });
});
{% endhighlight %}

<p>
With our current "boot" code we just need to change <em>data-recipe</em> to "complex", and it's done!
</p>

{% highlight html %}
<div class="track">
  <div class="view-port">
    <div class="slider-container" data-recipe="complex" data-opts='{"easing": "easeInOutCubic", "duration": 700}'>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/1/"></div>
      <!-- items ... -->
    </div>
  </div>
</div>
{% endhighlight %}

<p>
and presto!
</p>

<div class="track">
  <div class="view-port">
    <div class="slider-container" data-recipe="complex" data-opts='{"easing": "easeInOutCubic", "duration": 700}'>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/1/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/2/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/3/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/4/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/5/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/6/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/7/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/8/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/9/"></div>
      <div class="item"><img src="http://lorempixel.com/230/134/cats/10/"></div>
    </div>
  </div>

  <div class="bullet-pagination"></div>

  <div class="pagination">
    <a href="#" class="prev disabled"></a>
    <a href="#" class="next disabled"></a>
  </div>
</div>
