
<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/site_style.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/pygment_monokai.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/gh-buttons.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="../stylesheets/base_example.css" media="screen" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="../javascripts/libs/jquery-easing-1.3.0.js"></script>
    <script type="text/javascript" src="../javascripts/libs/modernizr.mediaqueries.transform3d.js"></script>
    <script type="text/javascript" src="../javascripts/libs/responsive-hub.js"></script>
    <script type="text/javascript" src="../javascripts/plugin/jquery.silver_track.js" charset="utf-8"></script>
    <script type="text/javascript" src="../javascripts/plugin/jquery.silver_track_recipes.js" charset="utf-8"></script>
    <script type="text/javascript" src="../javascripts/plugin/plugins/jquery.silver_track.navigator.js" charset="utf-8"></script>
    <script type="text/javascript" src="../javascripts/plugin/plugins/jquery.silver_track.bullet_navigator.js" charset="utf-8"></script>
    <script type="text/javascript" src="../javascripts/plugin/plugins/jquery.silver_track.remote_content.js" charset="utf-8"></script>
    <script type="text/javascript" src="../javascripts/plugin/plugins/jquery.silver_track.responsive_hub_connector.js" charset="utf-8"></script>
    <script type="text/javascript" src="../javascripts/plugin/plugins/jquery.silver_track.css3_animation.js" charset="utf-8"></script>

    <title>Remote Content - jQuery.silver_track </title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1><a href="http://tulios.github.io/jquery.silver_track/">jQuery.silver_track</a></h1>
          <h2>A smart and very extensible jquery sliding carousel</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/tulios/jquery.silver_track/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/tulios/jquery.silver_track/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/tulios/jquery.silver_track" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>


<h2>
  Remote Content
</h2>

<section id="main_content">
  <script type="text/javascript" src="../javascripts/plugin_remote_content_example.js"></script>

<p>
This plugin provides a way to load content through ajax. Example in the end of the page.
</p>

<h4>
  Options
</h4>

<table>
  <tr>
    <th>name</th>
    <th>description</th>
    <th>default</th>
  </tr>
  <tr>
    <td>lazy</td>
    <td>It determines if RemoteContent will fetch the first page after the track starts or just when the user navigate to a page without cache. You will usually set this to false  when you render your first page with the track and get the other items through ajax</td>
    <td>true</td>
  </tr>
  <tr>
    <td>type</td>
    <td>The type of request to make ("POST" or "GET"). This parameter is sent direct to <a href="https://api.jquery.com/jQuery.ajax/">jQuery.ajax</a> function</td>
    <td>GET</td>
  </tr>
  <tr>
    <td>params</td>
    <td>Data to be sent to the server. This parameter is sent to option <em>"data"</em> of <a href="https://api.jquery.com/jQuery.ajax/">jQuery.ajax</a> function</td>
    <td>{}</td>
  </tr>
  <tr>
    <td>url</td>
    <td>A string containing the URL to which the request is sent or a function that returns an url. If this option is a function, it will receive a reference of track, the page number and the perPage value, if not RemoteContent will try to replace the substrings <em>{page}</em> and <em>{perPage}</em> with the current values</td>
    <td></td>
  </tr>
</table>

<h4>
  Callbacks
</h4>

<table>
  <tr>
    <th>name</th>
    <th>description</th>
    <th>arguments</th>
  </tr>
  <tr>
    <td>beforeStart</td>
    <td>Called before the track starts</td>
    <td>track</td>
  </tr>
  <tr>
    <td>beforeSend</td>
    <td>It is a pre-request callback, it could be used to include spinners/loaders and do whatever you want before the request</td>
    <td>track, jqXHR, settings</td>
  </tr>
  <tr>
    <td>beforeAppend</td>
    <td>Container to append the navigation links</td>
    <td>track</td>
  </tr>
  <tr>
    <td>afterAppend</td>
    <td>Called before items are attached to the DOM</td>
    <td>track</td>
  </tr>
  <tr>
    <td>process</td>
    <td>It is a function that will process the data loaded by the server and return an array of DOM items that will be appended to the DOM</td>
    <td>track, perPage, data</td>
  </tr>
  <tr>
    <td>updateTotalPages</td>
    <td>It will be called after the <em>afterAppend</em> callback to update the total pages of the track based on the data loaded by the server</td>
    <td>track, data</td>
  </tr>
  <tr>
    <td>onError</td>
    <td>Called whenever an error happens with the request</td>
    <td>track, jqXHR, textStatus, errorThrown</td>
  </tr>
</table>

<p>
For our example, we will use a server called <a href="https://github.com/tulios/jquery.silver_track/blob/master/spec/server.rb">"echo"</a> that responds with the same JSON that we set through the parameter json, it will also return the total pages number that we set with the parameter total_pages.
</p>

<p>
Because we are lazy people we will use the lazy option true, that is already set by default, thus the markup will be like:
</p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;track&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;view-port&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;slider-container&quot;</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- no items, lazy developers! --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;pagination&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;prev disabled&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;next disabled&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div>

<p>
For this examples we will need some support functions. We need to generate a fake json to allow the echo server to return json and we will also need to generate the appropriate url with the json parameter set. <em>This is just necessary <strong>to the example</strong>, in your code you will point to your service url and won't need any fake json generator.</em>
</p>

<div class="highlight"><pre><code class="js"><span class="c1">// Let&#39;s create a function to create the urls for our &quot;echo&quot; test server</span>
<span class="kd">var</span> <span class="nx">urlToEchoServer</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">track</span><span class="p">,</span> <span class="nx">page</span><span class="p">,</span> <span class="nx">perPage</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">jsonText</span> <span class="o">=</span> <span class="nx">escape</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">fakeJsonCreator</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">perPage</span><span class="p">)));</span>
  <span class="kd">var</span> <span class="nx">echoServerHost</span> <span class="o">=</span> <span class="s2">&quot;http://echo-server.herokuapp.com&quot;</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">echoServerHost</span> <span class="o">+</span> <span class="s2">&quot;/echo/json/&quot;</span> <span class="o">+</span> <span class="nx">page</span> <span class="o">+</span> <span class="s2">&quot;?json=&quot;</span> <span class="o">+</span> <span class="nx">jsonText</span> <span class="o">+</span> <span class="s2">&quot;&amp;total_pages=5&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Support function for our test</span>
<span class="kd">var</span> <span class="nx">fakeJsonCreator</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">page</span><span class="p">,</span> <span class="nx">perPage</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">photoTypes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;food&quot;</span><span class="p">,</span> <span class="s2">&quot;people&quot;</span><span class="p">,</span> <span class="s2">&quot;nature&quot;</span><span class="p">,</span> <span class="s2">&quot;sports&quot;</span><span class="p">];</span>
  <span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">perPage</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">img_url</span><span class="o">:</span> <span class="s2">&quot;http://lorempixel.com/224/128/&quot;</span> <span class="o">+</span> <span class="nx">photoTypes</span><span class="p">[</span><span class="nx">i</span><span class="p">]});</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">items</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>
Then we will create our processor, the function that will transform the data from the server into an array of DOM elements, and install our plugin
</p>

<div class="highlight"><pre><code class="js"><span class="c1">// Let&#39;s create our processor, the function that will transform the data</span>
<span class="c1">// from the server into an array of DOM elements</span>
<span class="kd">var</span> <span class="nx">processor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">track</span><span class="p">,</span> <span class="nx">perPage</span><span class="p">,</span> <span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">perPage</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">json</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">array</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span>
      <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="o">:</span> <span class="s2">&quot;item&quot;</span><span class="p">}).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;img&gt;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;src&quot;</span><span class="o">:</span> <span class="nx">json</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">img_url</span><span class="p">}))</span>
    <span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">array</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Then we install the plugin</span>
<span class="nx">track</span><span class="p">.</span><span class="nx">install</span><span class="p">(</span><span class="k">new</span> <span class="nx">SilverTrack</span><span class="p">.</span><span class="nx">Plugins</span><span class="p">.</span><span class="nx">RemoteContent</span><span class="p">({</span>
  <span class="nx">url</span><span class="o">:</span> <span class="nx">urlToEchoServer</span><span class="p">,</span>
  <span class="nx">process</span><span class="o">:</span> <span class="nx">processor</span><span class="p">,</span>

  <span class="nx">beforeStart</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">track</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">track</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;div&gt;&lt;/div&gt;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;class&quot;</span><span class="o">:</span> <span class="s2">&quot;loading&quot;</span><span class="p">}));</span>
  <span class="p">},</span>

  <span class="nx">beforeSend</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">track</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.loading&quot;</span><span class="p">,</span> <span class="nx">track</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">parent</span><span class="p">()).</span><span class="nx">fadeIn</span><span class="p">();</span>
  <span class="p">},</span>

  <span class="nx">beforeAppend</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">track</span><span class="p">,</span> <span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;.loading&quot;</span><span class="p">,</span> <span class="nx">track</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">parent</span><span class="p">()).</span><span class="nx">hide</span><span class="p">();</span>
  <span class="p">},</span>

  <span class="nx">updateTotalPages</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">track</span><span class="p">,</span> <span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">track</span><span class="p">.</span><span class="nx">updateTotalPages</span><span class="p">(</span><span class="nx">json</span><span class="p">.</span><span class="nx">total_pages</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}));</span>
</code></pre></div>

<p>
and it's done!
</p>

<div class="track">
  <div class="view-port">
    <div class="slider-container">
    </div>
  </div>

  <div class="pagination">
    <a href="#" class="prev disabled"></a>
    <a href="#" class="next disabled"></a>
  </div>
</div>

</section>

  <nav class="menu">
  <ul>
    
      <li><a href="../root/options.html">Options</a></li>
    
      <li><a href="../root/methods.html">Methods</a></li>
    
  </ul>
  <h3>How To's:</h3>
  <ul>
    
      <li><a href="../how_tos/creating-a-plugin.html">Creating a plugin</a></li>
    
      <li><a href="../how_tos/defining-a-recipe.html">Defining a recipe</a></li>
    
  </ul>
  <h3>Built-in Plugins:</h3>
  <ul>
    
      <li><a href="../plugins/bullet-navigator.html">Bullet Navigator</a></li>
    
      <li><a href="../plugins/navigator.html">Navigator</a></li>
    
      <li class="current"><a href="../plugins/remote-content.html">Remote Content</a></li>
    
      <li><a href="../plugins/responsive-hub-connector.html">ResponsiveHub Connector</a></li>
    
      <li><a href="../plugins/css3-animation.html">Css3 Animation</a></li>
    
  </ul>
</nav>


  <footer>
    <hr>
    jQuery.silver_track is maintained by <a href="https://github.com/tulios">tulios</a><br>
    This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
  </footer>

</div>
</div>
</body>
</html>

